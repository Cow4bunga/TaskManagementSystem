# Task management system
Тестовое задание в Effective Mobile.
## Get started
Здесь описана последовательность действий для запуска приложения в Docker-контейнере, а также базовые операции, предоставляемые сервисом.
### Запуск
1. Выполните в терминале git clone https://github.com/Cow4bunga/TaskManagementSystem.git , предварительно указав предпочтительную для клонирования директорию.
2. Перейдите в корневую директорию проекта (`cd ~/TaskManagementSystem`).
3. Выполните команду `docker-compose up`.

Приложение запустится на localhost:8083 (**ВАЖНО!** Перед запуском необходимо убедиться, что порты 5432 и 8083 не используются).


### Документация
Документация API для проекта будет доступна по следующему URL: 

`http://localhost:8083/api-docs`

Swagger UI доступен по URL:

`http://localhost:8083/swagger-ui/index.html`


## Авторизация

Для того, чтобы зарегистрироваться в системе, необходимо отправить POST-запрос:

`http://localhost:8083/auth/register`

с телом запроса

```json
{
    "email": "admin1@gmail.com",
    "password": "pass"
}
```
для администратора. Либо:
```json
{
    "email": "user1@gmail.com",
    "password": "pass"
}
```
для пользователя.

При запуске производится инициализация базы данных пользователей (создается 3 администратора и 10 пользователей, пароли для всех по умолчанию - `pass`) для демонстрации, 
также новые пользователи создаются в системе с ролью USER при регистрации.

Администраторы могут повышать уровень доступа обычных пользователей (POST-запрос):
 `http://localhost:8083/users/toAdmin`

с телом:

```json
{
    "email": "user1@gmail.com",
}
```

Для получения JWT-токена необходимо отправить новый POST-запрос с аналогичным телом:
```json
{
    "email": "admin1@gmail.com",
    "password": "pass"
}
```
используя URL `http://localhost:8083/auth/login`

При успешной регистрации будет получен ответ следующего вида:

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbjExMUBnbWFpbC5jb20iLCJpYXQiOjE3MzIwMTQ5NjAsImV4cCI6MTczMjAyMTk2MH0.G2-1YG84MGQsv49IZSoIk3OkTMdub7189zVFHIUk6HA"
}
```

Данный токен используется для доступа к ресурсам, требующим авторизации. 

Пользователи с правами ADMIN имеют доступ ко всем ресурсам,
пользователи с правами USER могут менять статус задач и просматривать задачи (но не могут получить список задач), исполнителями которых являются, а также редактировать их описание и добавлять комментарии к своим задачам.